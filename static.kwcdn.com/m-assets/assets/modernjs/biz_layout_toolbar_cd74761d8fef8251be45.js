(self.webpackChunkmobile_bg_web_personal = self.webpackChunkmobile_bg_web_personal || []).push([
    [679], {
        81239: function(e) {
            e.exports = {
                entry: "entry-1A56e",
                container: "container-2jHL5",
                iconWrap: "iconWrap-1ObYq",
                icon: "icon-2YQks",
                count: "count-M5pUH",
                shortPadding: "shortPadding-Hyx-e",
                countText: "countText-3jume",
                msg: "msg-1fCI-",
                hidden: "hidden-1VK9D",
                chattingIconWrap: "chattingIconWrap-2Ro0G",
                chattingAvatar: "chattingAvatar-33W7n",
                chattingIcon: "chattingIcon-3ujzC",
                hideWhenNarrow: "hideWhenNarrow-1DDNO"
            }
        },
        29382: function(e) {
            e.exports = {
                wrap: "wrap-3qsXq",
                disappear: "disappear-2YUQt",
                floatIcon: "floatIcon-3Zgyg",
                iconImg: "iconImg-GmRno",
                text: "text-1g0j9"
            }
        },
        29596: function(e) {
            e.exports = {
                dialogWrap: "dialogWrap-32m3C",
                wrap: "wrap-3zS47",
                questionDialogWrap: "questionDialogWrap-HA0IZ",
                scrollWrap: "scrollWrap-2ebc3",
                title: "title-3lWyo",
                subTitle: "subTitle-3qndX",
                firstQuestion: "firstQuestion-1Po5v",
                optionsWrap: "optionsWrap-Xj89N",
                padBottom: "padBottom-aprTU",
                option: "option-3kRNK",
                optionRadio: "optionRadio-3sa3j",
                optionRadioSelected: "optionRadioSelected-2LO9M",
                optionName: "optionName-3Yf7h",
                btn: "btn-2bKg5",
                detailQuestion: "detailQuestion-1Z42a",
                detailTitle: "detailTitle-2jh6O",
                moduleSelectWrap: "moduleSelectWrap-1JhWR",
                moduleOption: "moduleOption-1yv6w",
                moduleOptionSelected: "moduleOptionSelected-1TijH",
                selectedTag: "selectedTag-IKitN",
                commonRight: "commonRight-28jQd",
                divider: "divider-35z2u",
                moduleWrap: "moduleWrap-3Knpu",
                moduleWrapAni: "moduleWrapAni-pio8x",
                slideDown: "slideDown-z3ksx",
                opaIn: "opaIn-58M8A",
                moduleTitle: "moduleTitle-2wmNF",
                problemTitle: "problemTitle-3Z2Bx",
                positiveInput: "positiveInput-Py1JD",
                errorTip: "errorTip-2yI_J",
                errorTipIcon: "errorTipIcon-33Ewa",
                successIcon: "successIcon-1YuDA",
                successTitle: "successTitle-3wKQk",
                successSubTitle: "successSubTitle-3kJ5d",
                successTip: "successTip-cQM7r",
                errorToast: "errorToast-1crMd",
                networkError: "networkError-2a97A",
                networkErrorIcon: "networkErrorIcon-1ktGp",
                networkErrorTitle: "networkErrorTitle-V4oDX",
                networkErrorText: "networkErrorText-3cSZ1",
                networkErrorTextBtn: "networkErrorTextBtn-3rFOO",
                loading: "loading-1e2WZ",
                doneBtn: "doneBtn-3sSf8",
                detailMoveAni: "detailMoveAni-11cUu",
                slideDown2: "slideDown2-2OFBk",
                placeholder: "placeholder-HZUb2"
            }
        },
        50722: function(e) {
            e.exports = {
                wrap: "wrap-3yFZR",
                textarea: "textarea-vlgVI",
                current: "current-3XpSU",
                curLen: "curLen-3XpNi",
                split: "split-3oiyD"
            }
        },
        28787: function(e) {
            e.exports = {
                wrap: "wrap-1aDO3",
                floatIcon: "floatIcon-2e0jp",
                iconImg: "iconImg-3SpPb",
                text: "text-1KBzB",
                errorToast: "errorToast-LGznd"
            }
        },
        56959: function(e) {
            e.exports = {
                wrap: "wrap-wG-9q",
                floatIcon: "floatIcon-25EP6",
                iconImg: "iconImg-1pQdB",
                text: "text-3DIkc",
                redDot: "redDot-3qUjr",
                dialog: "dialog-1sJy3",
                dialogImg: "dialogImg-1t0fv",
                dialogIcon: "dialogIcon-3keVE",
                dialogTitle: "dialogTitle-104f8",
                dialogSubtitle: "dialogSubtitle-3twvf",
                policy: "policy-2Bbs0",
                orange: "orange-wKW7n"
            }
        },
        51572: function(e) {
            e.exports = {
                container: "container-3Nf4Y",
                msgEntry: "msgEntry-2VcQ2",
                item: "item-18jMN",
                tips: "tips-3xUiB",
                hideWhenNarrow: "hideWhenNarrow-a5Esz"
            }
        },
        99845: function(e) {
            e.exports = {
                arrowClassName: "arrowClassName-1R9gr"
            }
        },
        75645: function(e, t, a) {
            "use strict";
            a.r(t), a.d(t, {
                default: function() {
                    return Oe
                }
            });
            var n = a(14242),
                r = a(33514),
                o = a(32485),
                s = a.n(o),
                l = a(7350),
                c = a.n(l),
                i = a(83885),
                d = a(24808),
                u = a(94971),
                m = a(97582),
                p = a(27258),
                E = a(50063),
                g = a(25698),
                f = a(82370),
                h = a(84068),
                v = a(57571),
                w = a(500),
                b = a(49516),
                y = a(81239),
                N = a.n(y);
            let T = !1;
            const k = (0, r.memo)((e => {
                let {
                    className: t
                } = e;
                return r.createElement("svg", {
                    className: t,
                    version: "1.1",
                    viewBox: "0 0 1024 1024"
                }, r.createElement("path", {
                    d: "M802.9 169.9c73.3 0 132.7 59.4 132.7 132.6l0 387.5c0 73.3-59.4 132.7-132.7 132.7l-178.8-0.1-53.8 67.5c-24.2 30.3-67.2 36.7-99 15.9l-5.8-4.2c-4.3-3.5-8.3-7.4-11.8-11.7l-53.9-67.5-178.7 0.1c-70.6 0-128.4-55.2-132.4-124.9l-0.3-7.8 0-387.5c0-73.3 59.4-132.7 132.7-132.6z m0 79.1l-581.8 0c-29.6 0-53.5 24-53.5 53.5l0 387.5c0 29.6 24 53.5 53.5 53.6l216.8 0 74.1 92.6 74.1-92.6 216.8 0c29.6 0 53.5-24 53.5-53.6l0-387.5c0-29.6-24-53.5-53.5-53.5z m-290.9 193.2c32.6 0 59.1 26.4 59.1 59.1 0 32.6-26.4 59.1-59.1 59-32.6 0-59.1-26.4-59.1-59 0-32.6 26.4-59.1 59.1-59.1z m-196.9 0c32.6 0 59.1 26.4 59.1 59.1 0 32.6-26.4 59.1-59.1 59-32.6 0-59.1-26.4-59.1-59 0-32.6 26.4-59.1 59.1-59.1z m393.8 0c32.6 0 59.1 26.4 59.1 59.1 0 32.6-26.4 59.1-59.1 59-32.6 0-59.1-26.4-59.1-59 0-32.6 26.4-59.1 59.1-59.1z",
                    fill: "#222222",
                    stroke: "none",
                    strokeWidth: "46.54545454545455"
                }))
            }));
            k.displayName = "Icon";
            const _ = (0, r.memo)((e => {
                let {
                    className: t,
                    active: a,
                    options: n
                } = e;
                const [o, l] = (0, r.useState)(0), [y, _] = (0, r.useState)(!1), [I, S] = (0, r.useState)(!1), [C, A] = (0, r.useState)(!1), [L, x] = (0, r.useState)("https://aimg.kwcdn.com/upload_aimg/temu/d7984c8b-c1f3-4df3-b4a9-29e9da809b2c.png.slim.png"), [W, M] = (0, r.useState)("https://aimg.kwcdn.com/upload_aimg/temu/18df21d7-82aa-481d-b8c9-29407e75b4a2.png.slim.png"), D = (0, r.useRef)({
                    count: 0,
                    socket: null,
                    hostId: "",
                    msgMap: {},
                    hidePlatform: !0
                }), O = (0, r.useRef)(null), R = (0, r.useRef)(null), {
                    t: P
                } = (0, m.B)("bec-fe.chat");
                (0, r.useEffect)((() => {
                    y && !a && (0, w.VN)(), a && _(!0)
                }), [a]), (0, r.useEffect)((() => {
                    T || ((async () => {
                        const [e, t] = await Promise.all([(0, w.Wu)(), (0, w.L)()]), a = e ? .result ? .cp124013 ? .showOfficialChat, {
                            enableMsgApi: n
                        } = e ? .result ? .cp156716 || {}, {
                            enableQuickChat: r
                        } = e ? .result ? .cp175234 || {};
                        if (D.current.hidePlatform = !a, (0, w.Nk)({
                                hidePlatform: !a,
                                enableMsgApi: !!n,
                                enableQuickChat: r
                            }), w.WK.isEntryInited = !0, w.WK.promiseResolve && w.WK.promiseResolve ? .(), !t ? .success || !t ? .result) return;
                        r || ((0, b.Zv)(!1), A(!1));
                        const o = !!t ? .result ? .showQuickEntry && r;
                        (0, b.Zv)(o), A(o), t ? .result ? .hostAvatar && x(t ? .result.hostAvatar), t ? .result ? .userAvatar && M(t ? .result.userAvatar)
                    })().catch((() => {
                        T = !1
                    })), T = !0)
                }), []), (0, r.useEffect)((() => {
                    let e;
                    const t = "ontouchstart" in document.documentElement,
                        a = async () => {
                            const {
                                isLogin: t
                            } = await (0, b.ug)();
                            if (t) {
                                (0, w.YH)(), g.Titan.usePlugin(g.Unicast);
                                const t = location.host;
                                e = new g.Titan({
                                    url: `wss://${t}`,
                                    appId: 10001,
                                    projectName: "mobile-bg-chat",
                                    needAuth: !0
                                });
                                const a = e => {
                                    if (e ? .actionId === h.$.PUSH && e.payload ? .push_type === h.Ii.NOTIFY_DATA) {
                                        const {
                                            seq_type: t,
                                            data: a = [],
                                            gray_scale_user: n,
                                            dr: r
                                        } = e.payload.push_data || {};
                                        if (n && r !== (0, d.xc)(+(0, u.Ri)("region"))) return;
                                        if ([h.$D.CHAT_MSG, h.$D.MESSAGE_BOX, h.$D.PLATFORM, h.$D.LOGISTICS].includes(t)) {
                                            const e = a[a.length - 1].message;
                                            if (2 === e ? .context ? .unread) return;
                                            let n = e ? .from ? .host_id;
                                            e.chat_type_id === h.G6.MESSAGE_BOX ? n += h.NB.MSG_BOX : e.chat_type_id === h.G6.LOGISTICS && (n += h.NB.LOGISTICS);
                                            if (n && n !== "39616151284" && (!D.current.hostId || n !== D.current.hostId)) {
                                                const a = D.current.msgMap[n];
                                                if (a) {
                                                    if (e.msg_id <= a) return
                                                } else D.current.msgMap[n] = e.msg_id;
                                                h.$D.PLATFORM === t ? ((0, w.n1)(), D.current.hidePlatform || (D.current.count += 1, l(D.current.count))) : (D.current.count += 1, l(D.current.count))
                                            }
                                        }
                                    } else if (e ? .actionId === h.$.SYSTEM_PUSH && e.payload ? .push_type === h.Ii.SYSTEM_EVENT) {
                                        const {
                                            gray_scale_user: t,
                                            dr: a
                                        } = e.payload ? .push_data || {};
                                        if (t && a !== (0, d.xc)(+(0, u.Ri)("region"))) return;
                                        (e => {
                                            const {
                                                type: t,
                                                data: a
                                            } = e || {};
                                            if (t === h.oz.QUICK_CHATTING) {
                                                const e = (0, w.zj)() ? .enableQuickChat && !!a ? .showQuickEntry;
                                                (0, b.Zv)(e), A(e), a ? .hostAvatar && x(a.hostAvatar), a ? .userAvatar && M(a.userAvatar)
                                            }
                                        })(e.payload ? .push_data)
                                    }
                                };
                                e.on("message", a), e.connect()
                            }
                        };
                    a(), S(!t);
                    const n = e => {
                            const t = parseInt(e.detail, 10) || 0;
                            D.current.count = t, l(t)
                        },
                        r = e => {
                            const {
                                unread: t,
                                hostId: a
                            } = e.detail || {};
                            D.current.hostId = a;
                            const n = D.current.count - (parseInt(t, 10) || 0);
                            n >= 0 && (D.current.count = n, l(n))
                        },
                        o = () => {
                            e && e.close(!0), e = null
                        },
                        s = () => {
                            e || a()
                        },
                        c = () => {
                            D.current.count += 1, l(D.current.count)
                        },
                        i = e => {
                            const {
                                count: t
                            } = e.detail || {}, a = D.current.count - t;
                            D.current.count = a, l(a >= 0 ? a : 0)
                        };
                    return window.addEventListener(h.gf.UPDATE_UNREAD_NUM, n), window.addEventListener(h.gf.UPDATE_DETAIL_HOST_ID, r), window.addEventListener(h.gf.CLOSE_WEBSOCKET, o), window.addEventListener(h.gf.CONNECT_WEBSOCKET, s), window.addEventListener(h.gf.ADD_NEW_MESSAGE_COUNT, c), window.addEventListener(h.gf.REDUCE_NEW_MESSAGE_COUNT, i), () => {
                        window.removeEventListener(h.gf.UPDATE_UNREAD_NUM, n), window.removeEventListener(h.gf.UPDATE_DETAIL_HOST_ID, r), window.removeEventListener(h.gf.CLOSE_WEBSOCKET, o), window.removeEventListener(h.gf.CONNECT_WEBSOCKET, s), window.removeEventListener(h.gf.ADD_NEW_MESSAGE_COUNT, c), window.removeEventListener(h.gf.REDUCE_NEW_MESSAGE_COUNT, i)
                    }
                }), []), (0, r.useEffect)((() => {
                    const e = [O.current, R.current].filter((e => e));
                    if (e ? .length) {
                        const t = c()((() => {
                            try {
                                e.forEach((e => {
                                    const t = e ? .clientWidth,
                                        a = Array.from(e ? .childNodes),
                                        n = a ? .[0],
                                        r = a ? .[1];
                                    if (n && r) {
                                        const a = r.offsetWidth,
                                            o = Math.min(Math.floor(t / a * 100) / 100, .91);
                                        n.style.transform = `scale(${o})`, e && (e.style.opacity = "1")
                                    }
                                }))
                            } catch (e) {
                                (0, v.v)("resizeEntryTextError", {
                                    fields: {
                                        message: e.message
                                    }
                                })
                            }
                        }), 100);
                        return t(), window.addEventListener("resize", t), () => window.removeEventListener("resize", t)
                    }
                }), [O.current, R.current, C]);
                const B = {
                        page_el_sn: "204651",
                        page_sn: "10003"
                    },
                    U = {
                        page_el_sn: "244435",
                        page_sn: "10003"
                    };
                return r.createElement("div", {
                    style: {
                        width: "100%"
                    }
                }, !!C && r.createElement(E.Ay, {
                    payload: U
                }, r.createElement("div", {
                    className: s()(N().entry, t),
                    id: "bg-quick-chat",
                    role: "button",
                    tabIndex: 0,
                    onClick: e => {
                        e.stopPropagation(), (0, v.v)("chatClickChating"), (0, p.E0)(U), (0, w.uT)({
                            hostId: 1,
                            isOfficialChat: !0,
                            params: {
                                needs_login: 1,
                                login_scene: 502
                            },
                            sourceType: void 0
                        })
                    }
                }, r.createElement("div", {
                    className: N().container
                }, r.createElement("div", {
                    className: N().chattingIconWrap
                }, r.createElement(f.Ay, {
                    className: N().chattingAvatar,
                    src: L,
                    resizeWidth: 50,
                    alt: ""
                }), r.createElement(f.Ay, {
                    className: s()(N().chattingIcon, N().hideWhenNarrow),
                    src: "https://aimg.kwcdn.com/upload_aimg/temu/0a4e019d-2e59-4b57-b717-b401ee9fc69c.png.slim.png",
                    resizeWidth: 50,
                    alt: ""
                }), r.createElement(f.Ay, {
                    className: s()(N().chattingAvatar, N().hideWhenNarrow),
                    src: W,
                    resizeWidth: 50,
                    alt: ""
                }))), r.createElement("div", {
                    ref: R,
                    className: N().msg
                }, r.createElement("div", null, P("shop_chat")), r.createElement("div", {
                    className: N().hidden
                }, P("shop_chat"))))), r.createElement(E.Ay, {
                    payload: B
                }, r.createElement("div", {
                    className: s()(N().entry, t),
                    onClick: async e => {
                        e.stopPropagation(), (0, v.v)("chatClickEntry"), (0, p.E0)(B);
                        await (0, b.wD)() || (0, w.Li)()
                    },
                    onMouseEnter: I ? async () => {
                        await (0, i.NB)() && (0, w.Mw)()
                    } : void 0,
                    role: "button",
                    tabIndex: 0,
                    id: "bg-chat-entry"
                }, r.createElement("div", {
                    className: N().container
                }, r.createElement("div", {
                    className: N().iconWrap
                }, r.createElement(k, {
                    className: N().icon
                }), !!o && r.createElement("div", {
                    className: s()(N().count, {
                        [N().shortPadding]: o > 99
                    })
                }, r.createElement("div", {
                    className: N().countText
                }, o > 99 ? "99+" : o)))), r.createElement("div", {
                    ref: O,
                    className: N().msg
                }, r.createElement("div", null, P("Messages")), r.createElement("div", {
                    className: N().hidden
                }, P("Messages"))))), r.createElement("div", {
                    id: "bg-chat-popup-container"
                }))
            }));
            _.displayName = "Entry";
            var I = _,
                S = a(95789),
                C = a(14511),
                A = a(47739),
                L = a(46694),
                x = a(60254),
                W = a(21696),
                M = a(45727),
                D = a(82390),
                O = a(11856),
                R = a(50878),
                P = a(51553),
                B = a(47913);
            const U = (0, r.memo)((e => {
                let {
                    data: t,
                    children: a
                } = e;
                const {
                    type: n,
                    node: o,
                    showOption: s,
                    closeOption: l
                } = t || {}, {
                    ifHideArrow: c
                } = s || {}, {
                    onClose: i,
                    ifNeedCloseIcon: d,
                    closeLog: u,
                    autoCloseWaitingTime: m
                } = l || {}, E = (0, R.w)((e => {
                    (0, O.Dk)(), i ? .(e)
                })), g = (0, R.w)((() => {
                    Object.keys(u || {}).length && (0, p.E0)(u), E(1)
                }));
                return (0, r.useEffect)((() => {
                    let e;
                    return m && "number" == typeof m && (e = setTimeout((() => {
                        E(2)
                    }), 1e3 * +m)), d && Object.keys(u || {}).length && (0, p.WW)(u), () => {
                        e && clearTimeout(e)
                    }
                }), []), r.createElement(P.A, {
                    key: `CustomToolbarTip_${n}`,
                    visible: !0,
                    placement: "left",
                    hideArrow: c,
                    showPopupClose: d,
                    onCloseClick: g,
                    overlay: ("function" == typeof o ? o() : o) || null
                }, a)
            }));
            var F = (0, C.W4)({
                    name: "CustomToolbarTip"
                })((0, r.memo)((e => {
                    let {
                        type: t,
                        children: a
                    } = e;
                    const {
                        data: n
                    } = (0, B.J)({
                        type: t
                    }) || {
                        data: null
                    };
                    return n && "string" == typeof t ? r.createElement(U, {
                        data: n
                    }, a) : a
                }))),
                z = a(79702),
                K = (a(16280), a(34477)),
                G = a(50591);
            const $ = e => {
                const {
                    toolbarStopUntrustedClick: t
                } = (0, G.O)(null) ? .frontControlMap || {};
                return !("click" === e.type && !e.isTrusted && ((0, K.fL)(new Error("toolbar_untrusted_click")), t))
            };
            var Q = a(29382),
                H = a.n(Q);
            var V = e => {
                    let {
                        setShowTop: t
                    } = e;
                    const {
                        t: a
                    } = (0, m.B)("bec-fe.web-ui", {
                        keyPrefix: "ToolBar"
                    }), [n, o] = (0, r.useState)(!1);
                    (0, r.useEffect)((() => {
                        const e = c()((() => {
                            const e = window.scrollY > (document.body ? .clientHeight || 0) / 2;
                            o(e), t(e)
                        }), 200);
                        return document.addEventListener("scroll", e), e(), () => document.removeEventListener("scroll", e)
                    }), [n]);
                    const s = (0, r.useCallback)((e => {
                        $(e) && n && (window.scrollTo(0, (document.body ? .clientHeight || 0) / 2), (e => {
                            window.requestAnimationFrame || (window.requestAnimationFrame = function(e) {
                                return setTimeout(e, 20)
                            });
                            let t = document.documentElement ? .scrollTop || document.body ? .scrollTop || 0;
                            ! function a() {
                                const n = e - t;
                                t += n / 5, Math.abs(n) < 1 ? window.scrollTo(0, e) : (window.scrollTo(0, t), requestAnimationFrame(a))
                            }()
                        })(0))
                    }), [n]);
                    return r.createElement("div", {
                        className: n ? H().wrap : H().disappear,
                        onClick: s,
                        role: "button"
                    }, r.createElement("div", {
                        className: H().floatIcon,
                        style: {
                            cursor: n ? "pointer" : "auto"
                        }
                    }, r.createElement("div", {
                        className: H().iconImg
                    }), r.createElement(z.A, {
                        className: H().text,
                        maxScale: .5,
                        needResize: !0
                    }, a("Top"))))
                },
                j = a(49787),
                q = a(89243),
                Y = a(10644),
                Z = a(52248),
                X = a(20162),
                J = a(86901),
                ee = a(30463),
                te = a(89663),
                ae = a(38046);
            const ne = "/api/bg-philo-api/feedback/config",
                re = "/api/bg-philo-api/feedback/report";
            var oe = {
                    queryFeedbackConfig() {
                        return (0, te.bE)({
                            url: ne,
                            params: {},
                            format: ae.wu
                        })
                    },
                    reportFeedback(e) {
                        return (0, te.bE)({
                            url: re,
                            params: { ...e
                            },
                            format: ae.wu
                        })
                    }
                },
                se = a(50722),
                le = a.n(se);
            var ce = function(e) {
                    let {
                        className: t = "",
                        defaultValue: a = "",
                        placeholder: n,
                        onChange: o,
                        maxLength: l = 1e3
                    } = e;
                    const c = (0, r.useRef)(null),
                        [i, d] = (0, r.useState)(a),
                        u = (0, r.useCallback)((e => {
                            const t = (c.current ? .value || "").substr(0, l);
                            d(t), o ? .(t)
                        }), [o]);
                    return r.createElement("div", {
                        className: s()(le().wrap, t)
                    }, r.createElement("textarea", {
                        defaultValue: a,
                        maxLength: l,
                        placeholder: n,
                        autoComplete: "off",
                        className: le().textarea,
                        ref: c,
                        onChange: u,
                        style: {
                            width: "100%"
                        }
                    }), r.createElement("div", {
                        className: le().current
                    }, r.createElement("span", {
                        className: s()({
                            [le().curLen]: i.length > 0
                        })
                    }, i.length), r.createElement("span", {
                        className: le().split
                    }, "/"), l))
                },
                ie = a(29596),
                de = a.n(ie);
            const ue = e => {
                    let {
                        options: t,
                        scoreId: a,
                        setScoreId: n,
                        className: o
                    } = e;
                    return r.createElement("div", {
                        className: s()(de().optionsWrap, o)
                    }, t.map(((e, t) => {
                        let {
                            scoreTitle: o,
                            scoreId: s
                        } = e;
                        return r.createElement("div", {
                            key: s,
                            className: de().option,
                            onClick: () => {
                                n(s)
                            }
                        }, r.createElement(Y.sx, {
                            className: de().optionRadio,
                            isChecked: s === a
                        }), r.createElement("div", {
                            className: de().optionName
                        }, o))
                    })))
                },
                me = e => {
                    let {
                        optionList: t,
                        selectedIds: a,
                        selectFunc: n,
                        idKey: o,
                        titleKey: l
                    } = e;
                    return r.createElement("div", {
                        className: de().moduleSelectWrap
                    }, t.map(((e, t) => {
                        const {
                            [o]: c, [l]: i
                        } = e, d = a.includes(c);
                        return r.createElement("div", {
                            className: s()(de().moduleOption, {
                                [de().moduleOptionSelected]: d
                            }),
                            onClick: n.bind(null, c),
                            key: c
                        }, i, !!d && r.createElement("div", {
                            className: de().selectedTag
                        }, r.createElement(Z.ce, {
                            className: de().commonRight
                        })))
                    })))
                },
                pe = (e, t) => t.includes(e) ? t.filter((t => t !== e)) : [e, ...t],
                Ee = (0, r.memo)((e => {
                    let {
                        data: t,
                        onClose: a
                    } = e;
                    const {
                        t: n
                    } = (0, m.B)("bec-fe.web-ui", {
                        keyPrefix: "Feedback"
                    }), {
                        moduleList: o = [],
                        scoreList: l = [],
                        title1: c,
                        title2: i,
                        title3: d,
                        title4: u,
                        buttonText: p,
                        pageSN: E
                    } = t || {}, [g, f] = (0, r.useState)(-1), [h, v] = (0, r.useState)(-1), w = (0, r.useRef)({
                        firstSelectScoreId: -1,
                        executedAni: !1,
                        timer: void 0,
                        lock: !1
                    }), [b, y] = (0, r.useState)([]), [N, T] = (0, r.useState)({}), [k, _] = (0, r.useState)(!1), [I, S] = (0, r.useState)(!1), C = (0, r.useRef)({}), A = (0, r.useRef)({}), L = (0, r.useCallback)((e => {
                        -1 === w.current.firstSelectScoreId && (w.current.firstSelectScoreId = e), w.current.timer = setTimeout((() => {
                            w.current.executedAni = !0
                        }), 500), _(!1), v(-1), f(e)
                    }), []);
                    (0, r.useEffect)((() => {
                        w.current.timer && clearTimeout(w.current.timer)
                    }), []);
                    const x = (l.find((e => e.scoreId === g)) ? .moduleList || []).map((e => o.find((t => t ? .moduleId === e)))).filter((e => !!e)),
                        W = b[g] || [],
                        M = e => {
                            y((t => ((t[g] || []).includes(e) || v(e), { ...t,
                                [g]: pe(e, t[g] || [])
                            })))
                        },
                        O = async () => {
                            if (!w.current.lock) {
                                w.current.lock = !0, (0, D.A)("click_feedback_submit", {
                                    referPageSn: E,
                                    errorMsg: `${g}`
                                });
                                try {
                                    if (-1 === g) return void _(!0);
                                    const e = W.map((e => x.find((t => t.moduleId === e)))).map((e => {
                                            let {
                                                moduleId: t,
                                                problemList: a
                                            } = e;
                                            return {
                                                module_id: t,
                                                problem_list: a.map((e => {
                                                    let {
                                                        problemId: t
                                                    } = e;
                                                    return {
                                                        problem_id: t,
                                                        content: C.current[`${g}_${t}`] || null,
                                                        optional_list: N[`${g}_${t}`] ? .length > 0 ? N[`${g}_${t}`] : null
                                                    }
                                                })).filter((e => e.content || e.optional_list))
                                            }
                                        })),
                                        t = await oe.reportFeedback({
                                            score_id: g,
                                            feedback: {
                                                module_list: e.length ? e : null,
                                                content: A.current[g] || null
                                            }
                                        });
                                    t ? .success ? S(!0) : X.A.error(n("submitError"))
                                } catch (e) {
                                    (0, K.fL)(e)
                                } finally {
                                    w.current.lock = !1
                                }
                            }
                        },
                        R = w.current.firstSelectScoreId === g && !w.current.executedAni;
                    return I ? r.createElement(r.Fragment, null, r.createElement(Z.CF, {
                        className: de().successIcon
                    }), r.createElement("div", {
                        className: de().successTitle
                    }, n("SuccessTitle")), r.createElement("div", {
                        className: de().successSubTitle
                    }, n("SuccessText")), r.createElement("div", {
                        className: s()(de().btn, de().doneBtn),
                        onClick: a
                    }, n("Done")), r.createElement("div", {
                        className: de().successTip
                    }, n("SuccessTip"), r.createElement("br", null), r.createElement("span", {
                        onClick: () => {
                            (0, ee.MJ)("/bgas_support.html", {
                                openTarget: "_blank"
                            })
                        }
                    }, n("VisitTheSupportCenter")))) : r.createElement(r.Fragment, null, r.createElement("div", {
                        className: de().scrollWrap
                    }, r.createElement("div", {
                        className: de().title
                    }, c), r.createElement("div", {
                        className: de().subTitle
                    }, i), r.createElement("div", {
                        className: de().firstQuestion
                    }, d), r.createElement(ue, {
                        options: l,
                        scoreId: g,
                        setScoreId: L,
                        className: s()({
                            [de().padBottom]: k
                        })
                    }), k ? r.createElement("div", {
                        className: de().errorTip
                    }, r.createElement(Z.m0, {
                        className: de().errorTipIcon
                    }), n("unselectMessage")) : null, -1 !== g && (x.length > 0 ? r.createElement("div", {
                        className: s()(de().detailQuestion, {
                            [de().detailMoveAni]: R
                        })
                    }, r.createElement("div", {
                        className: de().placeholder
                    }), r.createElement("div", {
                        className: de().detailTitle
                    }, u), r.createElement(me, {
                        optionList: x,
                        selectedIds: W,
                        selectFunc: M,
                        idKey: "moduleId",
                        titleKey: "moduleTitle"
                    }), W.length > 0 && r.createElement("div", {
                        className: de().divider
                    }), W.map(((e, t) => {
                        const a = x.find((t => t.moduleId === e)),
                            {
                                moduleTitle: n,
                                problemList: o
                            } = a;
                        return o ? .length ? r.createElement("section", {
                            className: s()(de().moduleWrap, {
                                [de().moduleWrapAni]: e === h
                            }),
                            key: e
                        }, r.createElement("div", {
                            className: de().opaIn
                        }, r.createElement("div", {
                            className: de().moduleTitle
                        }, n), o.map(((e, t) => {
                            const {
                                problemId: a,
                                problemTitle: n,
                                optionalList: o = [],
                                placeholder: s
                            } = e, l = `${g}_${a}`;
                            return r.createElement("div", {
                                key: a
                            }, !!n && r.createElement("div", {
                                className: de().problemTitle
                            }, n), r.createElement(me, {
                                optionList: o,
                                selectedIds: N[l] || [],
                                selectFunc: e => {
                                    T((t => ({ ...t,
                                        [l]: pe(e, t[l] || [])
                                    })))
                                },
                                idKey: "optionalId",
                                titleKey: "optionalTitle"
                            }), r.createElement(ce, {
                                key: l,
                                maxLength: 1e3,
                                defaultValue: C.current[l] || "",
                                onChange: e => {
                                    C.current[l] = e || ""
                                },
                                placeholder: s || "Please tell us more!"
                            }))
                        })))) : null
                    })), r.createElement("div", {
                        className: de().placeholder
                    })) : r.createElement("div", {
                        className: s()(de().detailQuestion, {
                            [de().detailMoveAni]: R
                        })
                    }, r.createElement("div", {
                        className: de().placeholder
                    }), r.createElement(ce, {
                        key: g,
                        maxLength: 1e3,
                        className: de().positiveInput,
                        defaultValue: A.current[g] || "",
                        onChange: e => {
                            A.current[g] = e || ""
                        },
                        placeholder: l.find((e => e.scoreId === g)) ? .placeholder || "Please tell us more!"
                    }), r.createElement("div", {
                        className: de().placeholder
                    })))), r.createElement("div", {
                        className: de().btn,
                        onClick: O
                    }, p))
                })),
                ge = e => {
                    let {
                        onClick: t
                    } = e;
                    const {
                        t: a
                    } = (0, m.B)("bec-fe.web-ui", {
                        keyPrefix: "Feedback"
                    });
                    return r.createElement("div", {
                        className: de().networkError
                    }, r.createElement(Z.$z, {
                        className: de().networkErrorIcon
                    }), r.createElement("div", {
                        className: de().networkErrorTitle
                    }, a("ErrorTitle")), r.createElement("div", {
                        className: de().networkErrorText
                    }, a("ErrorText")), r.createElement("div", {
                        className: de().networkErrorTextBtn,
                        onClick: t
                    }, a("TryAgain")))
                },
                fe = e => {
                    let {
                        loading: t,
                        data: a,
                        onClose: n,
                        tryAgain: o
                    } = e;
                    return r.createElement(J.A, {
                        size: "l",
                        onClose: n,
                        dialogProps: {
                            className: de().dialogWrap
                        }
                    }, r.createElement("div", {
                        className: s()(de().wrap, !t && a && de().questionDialogWrap),
                        onClick: e => e ? .stopPropagation ? .()
                    }, t ? r.createElement("div", {
                        className: de().loading
                    }) : a ? r.createElement(Ee, {
                        data: a,
                        onClose: n
                    }) : r.createElement(ge, {
                        onClick: o
                    })), r.createElement(J.A.CloseButton, {
                        onClick: n
                    }))
                };
            var he = e => {
                    let {
                        show: t,
                        loading: a,
                        data: n,
                        tryAgain: o,
                        onClose: s
                    } = e;
                    const {
                        pageSN: l
                    } = (0, W.Vb)();
                    if (!t) return null;
                    const c = n ? { ...n,
                        pageSN: l
                    } : n;
                    return q.createPortal(r.createElement(fe, {
                        loading: a,
                        data: c,
                        onClose: s,
                        tryAgain: o
                    }), document.body)
                },
                ve = a(51572),
                we = a.n(ve),
                be = a(28787),
                ye = a.n(be);
            var Ne = function() {
                    const {
                        t: e
                    } = (0, m.B)("bec-fe.web-ui", {
                        keyPrefix: "Feedback"
                    }), [t, a] = (0, r.useState)({
                        show: !1,
                        loading: !1,
                        data: null
                    }), o = (0, r.useCallback)((e => {
                        a((t => ({ ...t,
                            ...e
                        })))
                    }), []), l = (0, r.useRef)(null), c = (0, r.useRef)({
                        lock: !1,
                        data: null
                    });
                    c.current.data = t.data;
                    const i = (0, r.useCallback)((() => {
                            o({
                                show: !1,
                                loading: !1
                            })
                        }), []),
                        d = (0, r.useCallback)((async function() {
                            let e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                            try {
                                if (c.current.lock) return;
                                if (c.current.lock = !0, null !== c.current.data) return void o({
                                    show: !0,
                                    loading: !1
                                });
                                o({
                                    show: !0,
                                    loading: !0
                                });
                                const t = (await oe.queryFeedbackConfig()) ? .result || {},
                                    a = e => {
                                        const {
                                            scoreList: t = []
                                        } = e;
                                        return t.length > 0
                                    };
                                if (!a(t)) throw new Error("invalid config");
                                e && (0, j.JF)({
                                    type: j.pv.Feedback,
                                    active: !0
                                }), o({
                                    show: !0,
                                    loading: !1,
                                    data: t
                                })
                            } catch (e) {
                                o({
                                    show: !0,
                                    loading: !1,
                                    data: null
                                }), (0, K.fL)(e)
                            } finally {
                                c.current.lock = !1
                            }
                        }), []),
                        u = (0, r.useCallback)((e => {
                            if ($(e)) return d(!0)
                        }), []),
                        p = (0, r.useCallback)((() => d(!1)), []);
                    return r.createElement("div", {
                        ref: l,
                        className: ye().wrap
                    }, r.createElement("div", {
                        className: ye().floatIcon,
                        onClick: u,
                        role: "button"
                    }, r.createElement("div", {
                        className: ye().iconImg
                    }), r.createElement(z.A, {
                        className: s()(ye().text, we().hideWhenNarrow),
                        maxScale: .5,
                        needObserve: !0
                    }, e("Feedback"))), r.createElement(he, (0, n.A)({}, t, {
                        onClose: i,
                        tryAgain: p
                    })))
                },
                Te = a(38869),
                ke = a(42864),
                _e = a(87837),
                Ie = a(47975);
            let Se = () => a.e(6).then(a.bind(a, 28841));
            var Ce = e => {
                    const {
                        onBack: t
                    } = e || {};
                    return r.createElement(Ie.Ay, (0, n.A)({}, e, {
                        onLoadError: e => {
                            t && t(), Se = () => a.e(6).then(a.bind(a, 28841))
                        },
                        loader: Se
                    }))
                },
                Ae = a(56959),
                Le = a.n(Ae);
            var xe = (0, r.memo)((e => {
                    const {
                        show: t = !1,
                        popupData: a,
                        msgData: n
                    } = e.marketMsgData || {}, [o, l] = (0, r.useState)(!1), [c, i] = (0, r.useState)(!!n ? .popup_config ? .enable_red_dot);
                    if (!t) return null;
                    const {
                        icon_text: d,
                        img_url: u
                    } = n ? .popup_text || {};
                    return r.createElement(r.Fragment, null, r.createElement(_e.nU, {
                        page_el_sn: 203448,
                        others: {
                            has_red_point: c ? 1 : 0,
                            popup_trace_vo: n ? .popup_trace_vo
                        }
                    }, r.createElement(Te.n, {
                        className: Le().wrap,
                        onClick: e => {
                            $(e) && ((0, j.JF)({
                                type: j.pv.MarketMsg,
                                active: !0
                            }), l(!0), c && (0, te.bE)({
                                url: "/api/yasuo-gateway/sms/pc/click",
                                params: {}
                            }), i(!1))
                        }
                    }, r.createElement("div", {
                        className: Le().floatIcon
                    }, r.createElement(f.Ay, {
                        alt: "",
                        className: Le().iconImg,
                        src: u,
                        "aria-hidden": !0
                    }), r.createElement("div", {
                        className: s()(Le().text, we().hideWhenNarrow)
                    }, d), !!c && r.createElement("div", {
                        className: Le().redDot
                    })))), o ? r.createElement(Ce, {
                        referScene: "pcSideBar",
                        customAuthorizeSceneType: "unified_pc_mail_authorize",
                        popupData: a,
                        onClose: () => {
                            l(!1)
                        },
                        onSuccess: () => {
                            e.setMarketMsgData ? .({
                                show: !1
                            })
                        }
                    }) : null)
                })),
                We = a(22149),
                Me = a.n(We);
            const De = (0, r.memo)((() => {
                const {
                    isRTL: e
                } = (0, L.Sz)(), {
                    toolbarData: t
                } = (0, W.Vb)(), {
                    sidebarShowWidth: a
                } = (0, M.Xz)(), {
                    showMarketMsg: o = !0,
                    showMessages: l = !1,
                    showFeedback: c = !1,
                    showBackTop: i = !0
                } = t || {}, [d, m] = (0, r.useState)(!1), [p, E] = (() => {
                    const [e, t] = (0, r.useState)({
                        show: !1,
                        popupData: {},
                        msgData: {}
                    }), {
                        pageSN: a,
                        isRobot: n
                    } = (0, W.Vb)();
                    return (0, r.useEffect)((() => {
                        n || (async () => {
                            try {
                                const {
                                    display: e,
                                    msgData: n = {},
                                    bannerPull: r = {}
                                } = await (0, ke.yq)({
                                    page_sn: a,
                                    popup_tag: "custom_outside_pc_popup_scene"
                                }), {
                                    icon_text: o,
                                    img_url: s
                                } = n ? .popup_text || {};
                                e && o && s && t({
                                    show: e,
                                    popupData: r,
                                    msgData: n
                                })
                            } catch (e) {}
                        })()
                    }), []), [e, t]
                })(), g = (0, r.useMemo)((() => [{
                    type: j.pv.MarketMsg,
                    ToolItem: xe,
                    show: o && p.show
                }, {
                    type: j.pv.Messages,
                    ToolItem: I,
                    show: l
                }, {
                    type: j.pv.Feedback,
                    ToolItem: Ne,
                    show: c
                }, {
                    type: j.pv.BackTop,
                    ToolItem: V,
                    show: i
                }].filter((e => {
                    let {
                        show: t
                    } = e;
                    return t
                }))), [o, l, c, i, p]), f = (0, r.useMemo)((() => !!g.length), [g]), h = (0, r.useMemo)((() => {
                    let t = {};
                    return d || 1 !== g.length || g[0].type !== j.pv.BackTop || (t = {
                        background: "transparent",
                        boxShadow: "none"
                    }), a && (t[e ? "left" : "right"] = a), t
                }), [d, g, a, e]), [v, w] = (0, r.useState)((() => g.reduce(((e, t) => (e[t.type] = !1, e)), {}))), b = (0, r.useRef)(v);
                (0, r.useEffect)((() => {
                    const e = g.reduce(((e, t) => (e[t.type] = b.current[t.type] || !1, e)), {});
                    b.current = e, w(e)
                }), [g]), (0, r.useEffect)((() => {
                    if (!f || !l) return;
                    const e = () => {
                        const e = +(0, u.Ri)("region"),
                            t = (0, S.A)(r.createElement(A.Ay, {
                                loginScene: 601,
                                modalVisible: !0,
                                onCloseClick: () => t(),
                                regionId: e,
                                onSuccess: () => location.reload()
                            }), {});
                        return t
                    };
                    return window.addEventListener(j.Ur.POP_UP_LOGIN_DIALOG, e), () => {
                        window.removeEventListener(j.Ur.POP_UP_LOGIN_DIALOG, e)
                    }
                }), [f, l]), (0, r.useEffect)((() => {
                    if (!f) return;
                    const e = e => {
                        const {
                            type: t,
                            active: a
                        } = e.detail || {};
                        if (!Object.prototype.hasOwnProperty.call(b.current, t) || "boolean" != typeof a) return;
                        if (b.current[t] === a) return;
                        if (a)
                            for (const e in b.current) b.current[e] = !1;
                        const n = { ...b.current,
                            [t]: a
                        };
                        b.current = n, w(n)
                    };
                    return window.addEventListener(j.Ur.TOOLBAR_ACTIVE_CHANGE, e), () => {
                        window.removeEventListener(j.Ur.TOOLBAR_ACTIVE_CHANGE, e)
                    }
                }), [f]);
                const y = (0, r.useMemo)((() => ({
                    [j.pv.MarketMsg]: {
                        marketMsgData: p,
                        setMarketMsgData: E
                    },
                    [j.pv.Messages]: {
                        className: we().msgEntry
                    }
                })), [p, E]);
                return f ? r.createElement("div", {
                    id: x.hd,
                    className: s()(we().container, Me().toolbar),
                    style: h,
                    role: "toolbar"
                }, g.map((e => {
                    let {
                        type: t,
                        ToolItem: a
                    } = e;
                    const o = y[t] || {};
                    return r.createElement(C.Ay, {
                        key: t
                    }, r.createElement("div", {
                        className: we().item,
                        onClick: e => {
                            (0, O.Dk)();
                            const {
                                isTrusted: a,
                                metaKey: n,
                                shiftKey: r,
                                altKey: o,
                                bubbles: s,
                                button: l,
                                buttons: c
                            } = e || {};
                            (0, D.A)(`Toolbar_${t}`, {
                                errorCode: a ? 1e4 : 10001,
                                extraData: {
                                    isTrusted: a,
                                    metaKey: n,
                                    shiftKey: r,
                                    altKey: o,
                                    bubbles: s,
                                    button: l,
                                    buttons: c,
                                    type: e ? .type
                                }
                            })
                        }
                    }, r.createElement(F, {
                        type: t
                    }, r.createElement("div", {
                        className: we().tips
                    })), r.createElement(a, (0, n.A)({
                        active: v[t],
                        setShowTop: m
                    }, o))))
                }))) : null
            }));
            var Oe = (0, C.W4)({
                name: "Toolbar"
            })(De)
        },
        51553: function(e, t, a) {
            "use strict";
            var n = a(14242),
                r = a(33514),
                o = a(14511),
                s = a(46694),
                l = a(84973),
                c = a(99845),
                i = a.n(c);
            const d = (0, r.forwardRef)(((e, t) => {
                const {
                    innerStyle: a,
                    animation: c = !0,
                    hideArrow: d,
                    showPopupClose: u = !0,
                    overlay: m,
                    ...p
                } = e, {
                    isRTL: E
                } = (0, s.Sz)() || {}, g = (0, r.useMemo)((() => {
                    const e = {
                        color: "#fff",
                        fontSize: "14px",
                        lineHeight: "18px",
                        fontWeight: 500,
                        border: "1px solid #333333",
                        background: "#333333"
                    };
                    if ("string" == typeof m) {
                        const t = 12,
                            a = u ? 34 : t;
                        return { ...e,
                            ...E ? {
                                paddingLeft: a,
                                paddingRight: t
                            } : {
                                paddingLeft: t,
                                paddingRight: a
                            }
                        }
                    }
                    return u ? { ...e,
                        ...E ? {
                            paddingLeft: 34,
                            paddingRight: 0
                        } : {
                            paddingLeft: 0,
                            paddingRight: 34
                        }
                    } : { ...e
                    }
                }), [u, m, E]);
                return r.createElement(o.Ay, null, r.createElement(l.A, (0, n.A)({
                    ref: t,
                    animation: !0,
                    animationType: "fade",
                    hideArrow: d,
                    showPopupClose: u,
                    overlay: m,
                    arrowClassName: i().arrowClassName
                }, p, {
                    innerStyle: { ...g,
                        ...a
                    }
                })))
            }));
            t.A = d
        }
    }
]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/biz_layout_toolbar_cd74761d8fef8251be45.js.map